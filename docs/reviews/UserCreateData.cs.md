# Exhaustive Review of `Records/UserCreateData.cs`

The `UserCreateData.cs` file, located in the `Domain/Records` directory, defines the `UserCreateData` record. This Data Transfer Object (DTO) is of fundamental importance to the application, as it defines the data contract for one of the most critical use cases: user registration. It serves as the vessel that carries the information provided by a prospective user from the public-facing API endpoint to the core domain services responsible for creating a new `User` entity. The design of this record is simple, clear, and perfectly tailored to its purpose.

The data structure is declared as `public record UserCreateData(string Email, string Password)`. As with the other DTOs in this project, the choice of a C# `record` with a primary constructor is a modern and highly effective one. It provides a concise, immutable data structure that is ideal for passing data between application layers.

The two properties, `Email` and `Password`, are the essential pieces of information required to create a new user account. The names are standard and unambiguous. Both are of type `string`. It is crucial to note that the `Password` property here is intended to hold the user's chosen plain-text password. This is one of the very few places in the entire application where the plain-text password should exist, and its existence is transient.

The `UserCreateData` object has a very specific and limited lifecycle. It is created when the API framework deserializes the JSON payload from a `POST` request to the user registration endpoint. This DTO is then passed as an argument to the `RegisterAsync` method of the `IAuthService`. Inside the `AuthService`, this DTO is passed to the `ToEntity` mapper method (defined in `UserMapper.cs`) along with the password hashing service. The mapper uses the `Email` and the plain-text `Password` to construct a new `User` entity, hashing the password in the process. Once the `RegisterAsync` method completes, the `UserCreateData` object, along with the plain-text password it contains, goes out of scope and becomes eligible for garbage collection.

This workflow is an example of secure data handling. The sensitive plain-text password is confined to a transient DTO and is never stored in any persistent entity or long-lived object. The `User` entity, which is what gets saved to the database, only ever contains the `PasswordHash`. This clear separation, facilitated by having a distinct `UserCreateData` DTO, is fundamental to the security of the user registration process.

By defining this specific DTO, the application creates a strong contract for the registration API. It dictates that a client *must* provide an `Email` and a `Password`, and nothing more. This prevents clients from attempting to set other properties, such as the `Role` or `Id`, during the registration process. The `AuthService` correctly enforces the business rule that all new users are created with the `Unverified` role by default, and the `UserCreateData` DTO's design supports this by not even having a `Role` property.

In conclusion, the `UserCreateData.cs` file defines a simple but critically important DTO. Its design is clean, secure, and fit for purpose. It creates a clear and minimal contract for the user registration API and facilitates the secure handling of the user's plain-text password. The use of a `record` is consistent with the project's modern design standards. This file is excellently designed and requires no recommendations for improvement. It is a cornerstone of the application's user onboarding functionality.